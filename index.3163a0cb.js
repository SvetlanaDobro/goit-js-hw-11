!function(){var n=document.getElementById("search-form"),e=document.querySelector(".gallery"),t=document.querySelector(".load-more"),o=1,a=40,r="",c=0;function i(n){return r=n,fetch(function(n){var e=new URLSearchParams({key:"37132018-4dabe95031a531ae3f58f9204",q:n,image_type:"photo",orientation:"horizontal",safesearch:"true",page:o,per_page:40}).toString();return"".concat("https://pixabay.com/api/","?").concat(e)}(n)).then((function(n){return n.json()})).then((function(n){if(n.hits&&n.hits.length>0)return c=n.totalHits,n.totalHits<=40*o?u():l(),n.hits;throw u(),new Error("No images found")}))}function s(n){1===o&&(e.innerHTML=""),n.forEach((function(n){var t,o,a,r,c,i,s,u,l;o=(t=n).webformatURL,a=t.tags,r=t.likes,c=t.views,i=t.comments,s=t.downloads,u=document.createElement("div"),l='<div class="photo-card">\n         <img src="'.concat(o,'" alt="').concat(a,'" loading="lazy" /> \n        <div class="info">\n          <p class="info-item">\n            <b>Likes: ').concat(r,'</b>\n          </p>\n          <p class="info-item">\n            <b>Views: ').concat(c,'</b>\n          </p>\n          <p class="info-item">\n            <b>Comments: ').concat(i,'</b>\n          </p>\n          <p class="info-item">\n            <b>Downloads: ').concat(s,"</b>\n          </p>\n        </div>\n      </div>"),u.innerHTML=l,e.append(u)}))}function u(){t.style.display="none"}function l(){t.style.display="block"}n.addEventListener("submit",(function(n){n.preventDefault();var t=this.searchQuery.value.trim();""!==t&&(o=1,i(t).then((function(n){s(n),c<=40*o?u():l()})).catch((function(n){console.error(n),e.innerHTML="<p>Sorry, there are no images matching your search query. Please try again.</p>"})))})),t.addEventListener("click",(function(){o++,i(r).then((function(n){s(n),c<=o*a&&(u(),e.insertAdjacentHTML("beforeend","<p>We're sorry, but you've reached the end of search results.</p>"))}))}))}();
//# sourceMappingURL=index.3163a0cb.js.map
