const e=document.getElementById("search-form"),n=document.querySelector(".gallery"),t=document.querySelector(".load-more");let o=1;let r="",a=0;function i(e){return r=e,fetch(function(e){return`https://pixabay.com/api/?${new URLSearchParams({key:"37132018-4dabe95031a531ae3f58f9204",q:e,image_type:"photo",orientation:"horizontal",safesearch:"true",page:o,per_page:40}).toString()}`}(e)).then((e=>e.json())).then((e=>{if(e.hits&&e.hits.length>0)return a=e.totalHits,e.totalHits<=40*o?c():l(),e.hits;throw c(),new Error("No images found")}))}function s(e){1===o&&(n.innerHTML=""),e.forEach((e=>{!function({webformatURL:e,tags:t,likes:o,views:r,comments:a,downloads:i}){const s=document.createElement("div"),c=`<div class="photo-card">\n         <img src="${e}" alt="${t}" loading="lazy" /> \n        <div class="info">\n          <p class="info-item">\n            <b>Likes: ${o}</b>\n          </p>\n          <p class="info-item">\n            <b>Views: ${r}</b>\n          </p>\n          <p class="info-item">\n            <b>Comments: ${a}</b>\n          </p>\n          <p class="info-item">\n            <b>Downloads: ${i}</b>\n          </p>\n        </div>\n      </div>`;s.innerHTML=c,n.append(s)}(e)}))}function c(){t.style.display="none"}function l(){t.style.display="block"}e.addEventListener("submit",(function(e){e.preventDefault();const t=this.searchQuery.value.trim();""!==t&&(o=1,i(t).then((e=>{s(e),a<=40*o?c():l()})).catch((e=>{console.error(e),n.innerHTML="<p>Sorry, there are no images matching your search query. Please try again.</p>"})))})),t.addEventListener("click",(function(){o++,i(r).then((e=>{s(e),a<=40*o&&(c(),n.insertAdjacentHTML("beforeend","<p>We're sorry, but you've reached the end of search results.</p>"))}))}));
//# sourceMappingURL=index.f90bec58.js.map
